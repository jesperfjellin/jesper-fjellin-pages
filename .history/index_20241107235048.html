<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jesper Fjellin's Github Pages</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        header {
            background-color: #333;
            color: #fff;
            padding: 10px 0;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-size: 2.5em;
        }
        header p {
            margin: 0;
            font-size: 1.2em;
        }
        .container {
            width: 80%;
            margin: auto;
            overflow: hidden;
        }
        .project {
            background-color: #fff;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .project h2 {
            margin-top: 0;
            border-bottom: 2px solid #086cd6;
            padding-bottom: 10px;
            color: #086cd6;
        }
        .project p {
            margin-bottom: 10px;
        }
        .project iframe {
            border: none;
            width: 100%;
            height: 400px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        .centered-content {
            padding: 10px;
            margin: 0 auto 20px auto;
            width: 80%;
            text-align: center;
        }
        .centered-content img {
            max-width: 100%;
            margin-top: 10px;
            border-radius: 8px;
        }
        .centered-content p {
            margin-top: 10px;
            font-size: 0.9em;
            color: #555;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Jesper Fjellin's Github Pages</h1>
            <p>This is a showcase of some of the projects I have worked on in the last year. 
                Github repos: <a href="https://github.com/jesperfjellin" target="_blank" style="color: #0f99f5;">github.com/jesperfjellin</a> 
                <a href="https://github.com/jesperfjellin-kv" target="_blank" style="color: #0f99f5;">github.com/jesperfjellin-kv</a></p>
                        </div>
    </header>

    <div class="container">
        <!-- Project 1 -->
        <div class="project">
            <h2>dbfriend - PostGIS Database Management</h2>
            <p>dbfriend is a command-line tool designed to simplify the loading and synchronization of spatial data into PostGIS databases. It focuses on data integrity and safety, ensuring that your database operations are reliable and efficient. By handling complex tasks intelligently, dbfriend helps GIS professionals and database administrators streamline their workflows.</p>
            </div>
            
            <!-- New Feature List -->
            <div class="features">
                <h3>Key Features</h3>
                <ul>
                    <li><strong>Transactional Operations for Data Integrity</strong><br>
                        All database operations are executed within transactions. This means that either all changes are committed successfully, or none are applied. This approach protects your database from partial updates and maintains consistency.
                    </li>
                    <li><strong>Automated Table Backups</strong><br>
                        Before modifying any existing tables, dbfriend automatically creates backups, keeping up to three historical versions per table. This allows for easy restoration if needed and provides an extra layer of data safety.
                    </li>
                    <li><strong>Supports Multiple Vector Formats</strong><br>
                        Load data from various spatial file formats, including GeoJSON, Shapefile, GeoPackage, KML, and GML, offering flexibility in handling different data sources.
                    </li>
                    <li><strong>Intelligent Geometry Comparison</strong><br>
                        Prevent duplicates and ensure data consistency by comparing geometries using hashes to detect new, updated, and identical features efficiently.
                    </li>
                    <li><strong>Attribute-Aware Updates</strong><br>
                        Update existing geometries based on attribute changes, so your database always reflects the most current data.
                    </li>
                    <li><strong>Automatic Geometry Handling</strong><br>
                        Automatically detects and renames geometry columns to a standard format, simplifying data processing and integration.
                    </li>
                    <li><strong>CRS Compatibility Checks and Automatic Reprojection</strong><br>
                        Verifies Coordinate Reference System (CRS) compatibility and automatically reprojects data as needed, ensuring spatial data aligns correctly within your database.
                    </li>
                    <li><strong>Spatial Index Creation for Optimized Queries</strong><br>
                        Automatically creates spatial indexes on imported data, improving query performance and data retrieval speeds.
                    </li>
                </ul>
            </div>
        </div>
    </div>

        <!-- Project 2 -->
        <div class="project">
            <h2>Sosilogikk Python-module</h2>
            <p>Sosilogikk is a Python module intended to streamline the use of Python libraries like Shapely or Fiona for GIS analyses, on the Norwegian vector data format SOSI (Samordnet Opplegg for Stedfestet Informasjon). Sosilogikk allows the user to seamlessly load a .SOS file into a GeoPandas GeoDataFrame through only a few lines of code. <a href="https://github.com/jesperfjellin/sosilogikk" target="_blank">Github repo</a>.</p>
            
            <div class="centered-content">
                <img src="images/SOSI-file.png" alt="Example SOSI-file">
                <p>Example structure of a vector object in a SOSI-file. The dot- and coordinates-format makes it difficult to use with Python libraries.</p>
            </div>
        
            <div class="centered-content">
                <img src="images/GDF_sosi.png" alt="Example SOSI-file loaded into GeoDataFrame">
                <p>Sosilogikk applied to a large SOSI-file, resulting in an excel-like table.</p>
            </div>
        
            <p>Using the .to_file method, you can easily export the GeoDataFrame to any OGR-supported vector format, allowing software like ArcGIS or QGIS to be used.</p>
            
            <div class="centered-content">
                <img src="images/flatgeobuf_dreneringslinjer.png" alt="Drainage lines in Flatgeobuf format visualized in QGIS" style="max-width:50%;">
                <p>Drainage lines in Flatgeobuf format visualized in QGIS.</p>
            </div>
        </div>
        <!-- Project 3 -->
        <div class="project">
            <h2>Map Extractor: Retrieve text from PDFs</h2>
            <p>This Python script enables users to extract text information from specific regions of scanned paper maps stored as PDFs. It allows for easy selection of a Region of Interest (ROI) on one page and then scans the same area across all pages in the PDF, performing Optical Character Recognition (OCR) to extract text. The results are saved in a CSV file for easy analysis and retrieval. <a href="https://github.com/jesperfjellin/Map-Extractor" target="_blank">Github repo</a>.</p>
            
            <div class="centered-content">
                <img src="images/OCR_map_example.png" alt="Example ROI selection">
                <p>Example of how the region of interest selection works in the selected PDF. The red border to the center right is the ROI selector.</p>
            </div>

            <p>The output when the script is applied to the PDF above. OCR is not perfect and will need minor manual tweaks/configuring of settings in script to best suit the quality of your input PDF. Notice that the Trase string is missing an underscore between 'Trase' and the number sequence.</p>
        
            <div class="centered-content">
                <img src="images/output_example.png" alt="Example output from map PDF">
                <p>Example output from script.</p>
            </div>
        
            <p>The preprocess_image function is responsible for improving the accuracy OCR will have. If you are experiencing inaccurate results with Map Extractor, consider tweaking these parameters.</p>
            
            <div class="centered-content">
                <img src="images/preprocess_image_tuning.png" alt="Settings for tuning the configuration of OCR" style="max-width:50%;">
                <p>Preprocess_image function in the Map_Extractor.py script.</p>
            </div>
            <p>Potential further work: if you have all attributes displayed on the PDF, it should be possible to automatically create valid vector geometry from printed maps. This will require post-processing of the output data, to put it into a valid GeoJSON/GML/whatever structure, but also to clean up errors the OCR might have made. </p>
    </div>
</body>
</html>
